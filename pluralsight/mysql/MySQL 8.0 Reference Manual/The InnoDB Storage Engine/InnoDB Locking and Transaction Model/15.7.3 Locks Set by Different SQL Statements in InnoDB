USE examples;
CREATE TABLE t1 (i INT, PRIMARY KEY (i)) ENGINE = InnoDB;

-- Session 1
START TRANSACTION;
INSERT INTO t1 VALUES(1);

-- Session 2
START TRANSACTION;
INSERT INTO t1 VALUES(1);

-- Session 3
START TRANSACTION;
INSERT INTO t1 VALUES(1);

-- Session 1
ROLLBACK;


-- Session 1
START TRANSACTION;
DELETE FROM t1 WHERE i = 1;

-- Session 2
START TRANSACTION;
INSERT INTO t1 VALUES(1);

-- Session 3
START TRANSACTION;
INSERT INTO t1 VALUES(1);

-- Session 1
COMMIT;